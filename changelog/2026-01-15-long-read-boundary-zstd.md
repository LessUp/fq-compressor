# 长读边界条件与 Zstd 选择说明（2026-01-15）

## 概述

补充长读/超长读边界定义、块大小上限和混合场景处理策略，并明确选择 Zstd 而非 BSC 的理由。

## 修改文件

- `.kiro/specs/fq-compressor/design.md`

## 变更内容

1. **中长读策略与分类同步**
   - Sequence 流中读/长读策略统一为 Zstd 主路线，Overlap-based 仅作为 Long 可选优化。
2. **超长读边界与块大小约束**
   - 引入 `max_read_length >= 100KB` 的 Ultra-long 判定，限制块基准大小并强制 Zstd。
   - 增加 `max_block_bases` 约束，避免超长读导致单块过大。
3. **混合长短读处理与算法选择说明**
   - 混合数据按 `max_length` 优先级归类并提示压缩率风险。
   - 明确 Zstd 相比 BSC 的取舍（内存、解压、随机访问友好）。

## 影响

- 边界条件更清晰，长读/超长读在块大小与算法选择上更可控。
- 选择 Zstd 的理由文档化，便于后续评审与实现一致性。
