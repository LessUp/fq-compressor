# =============================================================================
# fq-compressor Clang-Tidy Configuration
# =============================================================================
# Static analysis rules based on fastq-tools with open-source friendly settings.
# Requirement 7.4: Code quality tools
#
# Enabled check categories:
#   - clang-diagnostic-*: Compiler diagnostics
#   - bugprone-*: Bug-prone patterns
#   - clang-analyzer-*: Static analyzer checks
#   - cppcoreguidelines-*: C++ Core Guidelines
#   - misc-*: Miscellaneous checks
#   - modernize-*: Modern C++ idioms
#   - performance-*: Performance improvements
#   - portability-*: Portability issues
#   - readability-*: Code readability
#
# Naming conventions (aligned with .clang-format):
#   - Classes/Structs: PascalCase
#   - Functions/Methods: camelCase
#   - Variables/Parameters: camelCase
#   - Private/Protected members: camelCase with trailing _
#   - Constants: kCamelCase
#   - Namespaces: lower_case
#   - Macros: UPPER_CASE
#
# Usage:
#   clang-tidy -p build <file>       # Run analysis
#   clang-tidy --fix -p build <file> # Auto-fix issues
# =============================================================================
Checks:          '-*,
                   clang-diagnostic-*,
                   bugprone-*,
                   clang-analyzer-*,
                   cppcoreguidelines-*,
                   misc-*,
                   modernize-*,
                   performance-*,
                   portability-*,
                   readability-*,
                   -bugprone-easily-swappable-parameters,
                   -cppcoreguidelines-pro-bounds-array-to-pointer-decay,
                   -cppcoreguidelines-pro-bounds-constant-array-index,
                   -cppcoreguidelines-pro-bounds-pointer-arithmetic,
                   -misc-non-private-member-variables-in-classes,
                   -modernize-use-trailing-return-type,
                   -readability-identifier-length,
                   '
HeaderFilterRegex: '^(.*[/\\])?(src|include|tests)/.*\.(h|hh|hpp|hxx|ipp|inl|c|cc|cpp|cxx)$'
CheckOptions:
  - key:             readability-identifier-naming.ClassCase
    value:           PascalCase
  - key:             readability-identifier-naming.StructCase
    value:           PascalCase
  - key:             readability-identifier-naming.FunctionCase
    value:           camelCase
  - key:             readability-identifier-naming.MethodCase
    value:           camelCase
  - key:             readability-identifier-naming.VariableCase
    value:           camelCase
  - key:             readability-identifier-naming.ParameterCase
    value:           camelCase
  - key:             readability-identifier-naming.PrivateMemberCase
    value:           camelCase
  - key:             readability-identifier-naming.PrivateMemberSuffix
    value:           _
  - key:             readability-identifier-naming.ProtectedMemberCase
    value:           camelCase
  - key:             readability-identifier-naming.ProtectedMemberSuffix
    value:           _
  - key:             readability-identifier-naming.ConstantCase
    value:           camelCase
  - key:             readability-identifier-naming.ConstantPrefix
    value:           k
  - key:             readability-identifier-naming.NamespaceCase
    value:           lower_case
  - key:             readability-identifier-naming.EnumCase
    value:           CamelCase
  - key:             readability-identifier-naming.EnumConstantCase
    value:           CamelCase
  - key:             readability-identifier-naming.MacroDefinitionCase
    value:           UPPER_CASE
  - key:             readability-identifier-naming.TemplateParameterCase
    value:           CamelCase
  - key:             bugprone-assert-side-effect.AssertMacros
    value:           'assert,FQC_ASSERT'
  - key:             bugprone-assert-side-effect.CheckFunctionCalls
    value:           '0'
  - key:             bugprone-dangling-handle.HandleClasses
    value:           'std::basic_string_view;std::experimental::basic_string_view'
  - key:             bugprone-string-constructor.WarnOnLargeLength
    value:           '0'
  - key:             bugprone-suspicious-enum-usage.StrictMode
    value:           '0'
  - key:             bugprone-unused-return-value.AllowCastToVoid
    value:           true
  - key:             modernize-replace-auto-ptr.IncludeStyle
    value:           llvm
  - key:             modernize-replace-random-shuffle.IncludeStyle
    value:           llvm
  - key:             misc-non-private-member-variables-in-classes.IgnoreClassesWithAllMemberVariablesBeingPublic
    value:           true
  - key:             performance-move-const-arg.CheckTriviallyCopyableMove
    value:           false
  - key:             readability-function-cognitive-complexity.Threshold
    value:           25
  - key:             readability-magic-numbers.IgnoredIntegerValues
    value:           '0;1;2;4;8;16;32;64;128;256;512;1024'
  - key:             readability-magic-numbers.IgnoredFloatingPointValues
    value:           '0.0;1.0;0.5;100.0'
  - key:             readability-magic-numbers.IgnorePowersOf2IntegerValues
    value:           true
  - key:             readability-magic-numbers.IgnoreAllFloatingPointValues
    value:           false
  - key:             cppcoreguidelines-avoid-magic-numbers.IgnoredIntegerValues
    value:           '0;1;2;4;8;16;32;64;128;256;512;1024'
